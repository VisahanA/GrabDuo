(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[720],{1973:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>i,_:()=>l});var o=r(5155),a=r(2115);let s={items:[],totalItems:0,totalPrice:0},n=(0,a.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,a.useReducer)(function e(t,r){switch(r.type){case"ADD_ITEM":{let e,o=(e=t.items.find(e=>e.id===r.payload.id)?t.items.map(e=>e.id===r.payload.id?{...e,quantity:e.quantity+1}:e):[...t.items,{...r.payload,quantity:1}]).reduce((e,t)=>e+t.quantity,0),a=e.reduce((e,t)=>e+parseFloat(t.price.replace(/[^\d.]/g,""))*t.quantity,0);return{items:e,totalItems:o,totalPrice:a}}case"REMOVE_ITEM":{let e=t.items.filter(e=>e.id!==r.payload),o=e.reduce((e,t)=>e+t.quantity,0),a=e.reduce((e,t)=>e+parseFloat(t.price.replace(/[^\d.]/g,""))*t.quantity,0);return{items:e,totalItems:o,totalPrice:a}}case"UPDATE_QUANTITY":{if(r.payload.quantity<=0)return e(t,{type:"REMOVE_ITEM",payload:r.payload.id});let o=t.items.map(e=>e.id===r.payload.id?{...e,quantity:r.payload.quantity}:e),a=o.reduce((e,t)=>e+t.quantity,0),s=o.reduce((e,t)=>e+parseFloat(t.price.replace(/[^\d.]/g,""))*t.quantity,0);return{items:o,totalItems:a,totalPrice:s}}case"CLEAR_CART":return s;default:return t}},s);return(0,o.jsx)(n.Provider,{value:{...r,addItem:e=>{i({type:"ADD_ITEM",payload:e})},removeItem:e=>{i({type:"REMOVE_ITEM",payload:e})},updateQuantity:(e,t)=>{i({type:"UPDATE_QUANTITY",payload:{id:e,quantity:t}})},clearCart:()=>{i({type:"CLEAR_CART"})}},children:t})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useCart must be used within a CartProvider");return e}},4737:(e,t,r)=>{"use strict";r.d(t,{Mr:()=>s,ZE:()=>o});let o=[{id:1,name:"Fresh Mango (Alphonso)",price:"S$1.30/kg",badge:"Fruits",color:"from-yellow-300 to-orange-400",icon:"\uD83E\uDD6D"},{id:2,name:"Sweet Guava",price:"S$0.65/kg",badge:"Fruits",color:"from-green-200 to-green-400",icon:"\uD83C\uDF48"},{id:3,name:"Fresh Pomegranate",price:"S$1.95/kg",badge:"Fruits",color:"from-red-300 to-red-500",icon:"\uD83C\uDF4E"},{id:4,name:"Kesar Banana",price:"S$0.95/dozen",badge:"Fruits",color:"from-yellow-200 to-yellow-400",icon:"\uD83C\uDF4C"},{id:5,name:"Fresh Papaya",price:"S$0.50/kg",badge:"Fruits",color:"from-orange-200 to-orange-400",icon:"\uD83C\uDF4A"},{id:6,name:"Lady Finger (Bhindi)",price:"S$0.65/kg",badge:"Vegetables",color:"from-green-300 to-green-500",icon:"\uD83E\uDD52"},{id:7,name:"Brinjal (Baingan)",price:"S$0.55/kg",badge:"Vegetables",color:"from-purple-300 to-purple-500",icon:"\uD83C\uDF46"},{id:8,name:"Bitter Gourd (Karela)",price:"S$0.75/kg",badge:"Vegetables",color:"from-green-400 to-green-600",icon:"\uD83E\uDD6C"},{id:9,name:"Bottle Gourd (Lauki)",price:"S$0.40/kg",badge:"Vegetables",color:"from-green-200 to-green-400",icon:"\uD83E\uDD52"},{id:10,name:"Drumstick (Moringa)",price:"S$0.95/kg",badge:"Vegetables",color:"from-green-300 to-green-500",icon:"\uD83C\uDF3F"},{id:11,name:"Coca Cola 600ml",price:"S$0.65",badge:"Beverages",color:"from-red-400 to-red-600",icon:"\uD83E\uDD64"},{id:12,name:"Pepsi 600ml",price:"S$0.65",badge:"Beverages",color:"from-blue-400 to-blue-600",icon:"\uD83E\uDD64"},{id:13,name:"Thums Up 600ml",price:"S$0.65",badge:"Beverages",color:"from-gray-600 to-gray-800",icon:"\uD83E\uDD64"},{id:14,name:"Masala Chai",price:"S$0.25/cup",badge:"Beverages",color:"from-amber-300 to-amber-500",icon:"â˜•"},{id:15,name:"Sweet Lassi",price:"S$0.50",badge:"Dairy",color:"from-pink-200 to-pink-400",icon:"\uD83E\uDD5B"},{id:16,name:"Parle-G Original",price:"S$0.15",badge:"Biscuits",color:"from-yellow-200 to-yellow-400",icon:"\uD83C\uDF6A"},{id:17,name:"Monaco Salted Biscuits",price:"S$0.25",badge:"Biscuits",color:"from-orange-200 to-orange-400",icon:"\uD83C\uDF6A"},{id:18,name:"Good Day Cashew",price:"S$0.40",badge:"Biscuits",color:"from-amber-200 to-amber-400",icon:"\uD83C\uDF6A"},{id:19,name:"Oreo Cookies",price:"S$0.55",badge:"Biscuits",color:"from-gray-600 to-gray-800",icon:"\uD83C\uDF6A"},{id:20,name:"Marie Gold Biscuits",price:"S$0.50",badge:"Biscuits",color:"from-yellow-300 to-yellow-500",icon:"\uD83C\uDF6A"},{id:21,name:"Haldiram's Namkeen",price:"S$0.75",badge:"Snacks",color:"from-yellow-400 to-orange-500",icon:"\uD83E\uDD68"},{id:22,name:"Kurkure Masala Munch",price:"S$0.35",badge:"Snacks",color:"from-orange-400 to-red-500",icon:"\uD83C\uDF3D"},{id:23,name:"Lay's Classic Salted",price:"S$0.45",badge:"Snacks",color:"from-yellow-300 to-yellow-500",icon:"\uD83E\uDD54"},{id:24,name:"Britannia Good Day",price:"S$0.30",badge:"Biscuits",color:"from-orange-200 to-orange-400",icon:"\uD83C\uDF6A"},{id:25,name:"Amul Fresh Milk",price:"S$0.85/ltr",badge:"Dairy",color:"from-blue-100 to-blue-300",icon:"\uD83E\uDD5B"}],a=null;async function s(){if(a)return a;try{let e=await fetch("/api/products");if(!e.ok)throw Error("Failed to load products");let t=await e.json();return a=t,t}catch(e){return console.error("Error loading products:",e),o}}o.length,[...new Set(o.map(e=>e.badge))]},5326:(e,t,r)=>{Promise.resolve().then(r.bind(r,7978))},7978:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var o=r(5155),a=r(6874),s=r.n(a),n=r(2115),i=r(4737),l=r(8327),d=r(1973);function c(){let[e,t]=(0,n.useState)(""),[r,a]=(0,n.useState)([]),[c,g]=(0,n.useState)(!1),[m,u]=(0,n.useState)([]),[x,h]=(0,n.useState)(""),{addItem:p,removeItem:b,updateQuantity:y,items:f}=(0,d._)(),v=()=>{e.trim()&&(a(t=>[...t,e.trim()]),t(""))},j=e=>{a(t=>t.filter((t,r)=>r!==e))},k=e=>{h(e),setTimeout(()=>h(""),3e3)},w=()=>{g(!1),u([])},C=e=>{let t=f.find(t=>t.id===e.id);t?y(e.id,t.quantity+1):p(e),k("".concat(e.name," quantity updated"))},N=e=>{let t=f.find(t=>t.id===e.id);t&&(1===t.quantity?(b(e.id),k("".concat(e.name," removed from cart"))):(y(e.id,t.quantity-1),k("".concat(e.name," quantity updated"))))};return(0,o.jsxs)("div",{className:"min-h-screen bg-green-50 px-4 py-6",children:[x&&(0,o.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 animate-slide-down",children:(0,o.jsxs)("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2",children:[(0,o.jsx)("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,o.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,o.jsx)("span",{className:"text-sm",children:x})]})}),(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)(s(),{href:"/",className:"p-1 hover:bg-green-100 rounded-lg transition-colors",children:(0,o.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,o.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:c?"Curated Products":"Shopping List"})]})}),c?(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)("button",{onClick:w,className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-medium",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Shopping List"]})}),m.length>0?(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Recommended Products (",m.length,")"]}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"Based on your shopping list, we found these matching products:"}),(0,o.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:m.map(e=>(0,o.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-4 hover:shadow-md transition-shadow",children:(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br ".concat(e.color," rounded-xl flex items-center justify-center flex-shrink-0"),children:(0,o.jsx)("div",{className:"text-2xl",children:e.icon})}),(0,o.jsx)("div",{className:"flex-1",children:(0,o.jsxs)("div",{className:"flex items-start justify-between",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"font-semibold text-gray-900 text-lg mb-2",children:e.name}),(0,o.jsx)("span",{className:"inline-block px-2 py-1 text-xs font-medium rounded-full ".concat((0,l.I)(e.badge)),children:e.badge})]}),(0,o.jsx)("div",{className:"text-right",children:(0,o.jsx)("span",{className:"font-bold text-green-600 text-xl",children:e.price})})]})}),(()=>{let t=f.find(t=>t.id===e.id),r=t?t.quantity:0;return 0===r?(0,o.jsxs)("button",{onClick:()=>C(e),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",title:"Add to cart",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,o.jsx)("span",{className:"text-sm",children:"Add"})]}):(0,o.jsxs)("div",{className:"flex items-center gap-1 bg-gray-50 rounded-lg p-1",children:[(0,o.jsx)("button",{onClick:()=>N(e),className:"w-7 h-7 flex items-center justify-center bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors flex-shrink-0",title:"Decrease quantity",children:(0,o.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M20 12H4"})})}),(0,o.jsx)("span",{className:"px-2 py-1 text-gray-900 font-bold text-sm min-w-[28px] text-center flex-shrink-0",children:r}),(0,o.jsx)("button",{onClick:()=>C(e),className:"w-7 h-7 flex items-center justify-center bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex-shrink-0",title:"Increase quantity",children:(0,o.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M12 4v16m8-8H4"})})})]})})()]})},e.id))}),f.length>0&&(0,o.jsx)("div",{className:"text-center",children:(0,o.jsxs)(s(),{href:"/cart",className:"inline-flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Go to Cart",f.length>0&&(0,o.jsx)("span",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:f.reduce((e,t)=>e+t.quantity,0)})]})})]}):(0,o.jsxs)("div",{className:"text-center py-16",children:[(0,o.jsx)("div",{className:"text-gray-400 mb-4",children:(0,o.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-3-3v6m-9 1V7a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})})}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No matching products found"}),(0,o.jsx)("p",{className:"text-gray-600 mb-6",children:"We couldn't find products matching your shopping list items. Try browsing our catalog or modify your shopping list."}),(0,o.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,o.jsx)("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"Back to Shopping List"}),(0,o.jsx)(s(),{href:"/",className:"bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition-colors font-medium",children:"Browse Products"})]})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)("div",{className:"relative",children:[r.length>0&&(0,o.jsx)("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),(0,o.jsx)("input",{type:"text",placeholder:"Add new item to your shopping list...",value:e,onChange:e=>{t(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&v()},className:"w-full ".concat(r.length>0?"pl-10":"pl-4"," pr-24 py-3 bg-white border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent text-gray-900 placeholder-gray-500")}),e&&(0,o.jsx)("button",{onClick:()=>{t("")},className:"absolute right-12 top-1/2 transform -translate-y-1/2 p-1 hover:bg-gray-100 rounded-md transition-colors",title:"Clear input",children:(0,o.jsx)("svg",{className:"w-4 h-4 text-gray-400 hover:text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,o.jsx)("button",{onClick:v,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-green-600 text-white px-3 py-1.5 rounded-md hover:bg-green-700 transition-colors text-sm font-medium",children:"Add"})]})}),r.length>0?(0,o.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,o.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Your Items (",r.length,")"]}),r.map((e,t)=>(0,o.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 flex items-center justify-between hover:shadow-md transition-shadow",children:[(0,o.jsxs)("div",{className:"flex items-center gap-3",children:[(0,o.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,o.jsx)("span",{className:"text-gray-900 font-medium",children:e})]}),(0,o.jsx)("button",{onClick:()=>j(t),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove item",children:(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"})})})]},t))]}):(0,o.jsxs)("div",{className:"text-center py-16",children:[(0,o.jsx)("div",{className:"text-gray-400 mb-4",children:(0,o.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your shopping list is empty"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Start adding items using the input box above to keep track of what you need."})]}),(0,o.jsx)("div",{className:"mt-8 text-center",children:(0,o.jsxs)("button",{onClick:()=>{if(0===r.length)return void k("Please add items to your shopping list first!");let e=i.ZE.filter(e=>r.some(t=>e.name.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.name.toLowerCase().split(" ")[0])||e.badge.toLowerCase().includes(t.toLowerCase())||t.toLowerCase().includes(e.badge.toLowerCase())));0===e.length?u(i.ZE.filter(e=>r.some(t=>{let r=t.toLowerCase().split(" "),o=e.name.toLowerCase().split(" ");return r.some(e=>o.some(t=>t.includes(e)||e.includes(t)))})).slice(0,10)):u(e),g(!0)},disabled:0===r.length,className:"inline-flex items-center gap-2 px-6 py-3 rounded-lg transition-colors font-medium ".concat(0===r.length?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:[(0,o.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}),"Curate Shopping List"]})})]})]})}},8327:(e,t,r)=>{"use strict";r.d(t,{I:()=>a});let o={Organic:{type:"Organic",bgColor:"bg-green-100",textColor:"text-green-800"},Fresh:{type:"Fresh",bgColor:"bg-blue-100",textColor:"text-blue-800"},Bakery:{type:"Bakery",bgColor:"bg-orange-100",textColor:"text-orange-800"},Protein:{type:"Protein",bgColor:"bg-purple-100",textColor:"text-purple-800"},"Ready to eat":{type:"Ready to eat",bgColor:"bg-yellow-100",textColor:"text-yellow-800"},Snacks:{type:"Snacks",bgColor:"bg-red-100",textColor:"text-red-800"},Beverages:{type:"Beverages",bgColor:"bg-cyan-100",textColor:"text-cyan-800"},Traditional:{type:"Traditional",bgColor:"bg-amber-100",textColor:"text-amber-800"},Spicy:{type:"Spicy",bgColor:"bg-rose-100",textColor:"text-rose-800"},Sweet:{type:"Sweet",bgColor:"bg-pink-100",textColor:"text-pink-800"},Dairy:{type:"Dairy",bgColor:"bg-indigo-100",textColor:"text-indigo-800"},Grains:{type:"Grains",bgColor:"bg-yellow-100",textColor:"text-yellow-800"},Vegetables:{type:"Vegetables",bgColor:"bg-green-100",textColor:"text-green-800"},Fruits:{type:"Fruits",bgColor:"bg-orange-100",textColor:"text-orange-800"},Biscuits:{type:"Biscuits",bgColor:"bg-amber-100",textColor:"text-amber-800"},Other:{type:"Other",bgColor:"bg-gray-100",textColor:"text-gray-800"},Meat:{type:"Meat",bgColor:"bg-red-100",textColor:"text-red-800"},Sweets:{type:"Sweets",bgColor:"bg-pink-100",textColor:"text-pink-800"},Cereals:{type:"Cereals",bgColor:"bg-amber-100",textColor:"text-amber-800"}},a=e=>{let t=o[e];return"".concat(t.bgColor," ").concat(t.textColor)}}},e=>{var t=t=>e(e.s=t);e.O(0,[874,441,684,358],()=>t(5326)),_N_E=e.O()}]);